<html lang="en"><head>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css">
  <link href="/css/webfonts/google/roboto/roboto.css" rel="stylesheet">
  <link type="text/css" rel="stylesheet" href="/docs/css/jquery.tocify.css">
  <style>
      .highlight .hll { background-color: #ffffcc }
.highlight  { background: #ffffff; }
.highlight .c { color: #aaaaaa; font-style: italic } /* Comment */
.highlight .err { color: #FF0000; background-color: #FFAAAA } /* Error */
.highlight .k { color: #0000aa } /* Keyword */
.highlight .cm { color: #aaaaaa; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #4c8317 } /* Comment.Preproc */
.highlight .c1 { color: #aaaaaa; font-style: italic } /* Comment.Single */
.highlight .cs { color: #0000aa; font-style: italic } /* Comment.Special */
.highlight .gd { color: #aa0000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #aa0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00aa00 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #555555 } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #aa0000 } /* Generic.Traceback */
.highlight .kc { color: #0000aa } /* Keyword.Constant */
.highlight .kd { color: #0000aa } /* Keyword.Declaration */
.highlight .kn { color: #0000aa } /* Keyword.Namespace */
.highlight .kp { color: #0000aa } /* Keyword.Pseudo */
.highlight .kr { color: #0000aa } /* Keyword.Reserved */
.highlight .kt { color: #00aaaa } /* Keyword.Type */
.highlight .m { color: #009999 } /* Literal.Number */
.highlight .s { color: #aa5500 } /* Literal.String */
.highlight .na { color: #1e90ff } /* Name.Attribute */
.highlight .nb { color: #00aaaa } /* Name.Builtin */
.highlight .nc { color: #00aa00; text-decoration: underline } /* Name.Class */
.highlight .no { color: #aa0000 } /* Name.Constant */
.highlight .nd { color: #888888 } /* Name.Decorator */
.highlight .ni { color: #880000; font-weight: bold } /* Name.Entity */
.highlight .nf { color: #00aa00 } /* Name.Function */
.highlight .nn { color: #00aaaa; text-decoration: underline } /* Name.Namespace */
.highlight .nt { color: #1e90ff; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #aa0000 } /* Name.Variable */
.highlight .ow { color: #0000aa } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #009999 } /* Literal.Number.Float */
.highlight .mh { color: #009999 } /* Literal.Number.Hex */
.highlight .mi { color: #009999 } /* Literal.Number.Integer */
.highlight .mo { color: #009999 } /* Literal.Number.Oct */
.highlight .sb { color: #aa5500 } /* Literal.String.Backtick */
.highlight .sc { color: #aa5500 } /* Literal.String.Char */
.highlight .sd { color: #aa5500 } /* Literal.String.Doc */
.highlight .s2 { color: #aa5500 } /* Literal.String.Double */
.highlight .se { color: #aa5500 } /* Literal.String.Escape */
.highlight .sh { color: #aa5500 } /* Literal.String.Heredoc */
.highlight .si { color: #aa5500 } /* Literal.String.Interpol */
.highlight .sx { color: #aa5500 } /* Literal.String.Other */
.highlight .sr { color: #009999 } /* Literal.String.Regex */
.highlight .s1 { color: #aa5500 } /* Literal.String.Single */
.highlight .ss { color: #0000aa } /* Literal.String.Symbol */
.highlight .bp { color: #00aaaa } /* Name.Builtin.Pseudo */
.highlight .vc { color: #aa0000 } /* Name.Variable.Class */
.highlight .vg { color: #aa0000 } /* Name.Variable.Global */
.highlight .vi { color: #aa0000 } /* Name.Variable.Instance */
.highlight .il { color: #009999 } /* Literal.Number.Integer.Long */

      body {
          padding-top: 80px;
      }

      #toc {
          background-color: #f7f5fa;
          font-family: "Roboto";
      }

      h1, h2, h3, h4 {
          font-family: "Roboto";
      }
  </style>
</head>
<body data-new-gr-c-s-check-loaded="14.1038.0" data-gr-ext-installed="">

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
      <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><img src="/assets/css/hapyak_logo_complete.svg" width="120px"></a>
      </div>
      <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              <li><a href="/references/embed/embed.html">Embed API</a></li>
              <li><a href="/references/annotation/annotation.html">Annotation CRUD API</a></li>
              <li><a href="/references/extension/extension.html">Extension API</a></li>
              <li><a href="/references/playlist/playlist.html">Playlist API</a></li>
              <li><a href="/references/responsive/responsive.html">Responsive API</a></li>
              <li class="active"><a href="/references/addon/addon.html">Addon API</a></li>
          </ul>
      </div>
  </div>
</div>

<div class="container">
  <div class="row">
      <div class="col-md-4 hidden-sm">
          <div id="toc" class="tocify">
          <ul id="tocify-header0" class="tocify-header nav nav-pills nav-stacked"><li class="tocify-item active" data-unique="HapYakJavascriptEmbedAPI"><a>HapYak Javascript Embed API</a></li></ul><ul id="tocify-header1" class="tocify-header nav nav-pills nav-stacked"><li class="tocify-item" data-unique="GlobalOptions"><a>Global Options</a></li></ul><ul id="tocify-header2" class="tocify-header nav nav-pills nav-stacked"><li class="tocify-item" data-unique="ViewerAPI"><a>Viewer API</a></li><ul class="tocify-subheader nav nav-pills nav-stacked" data-tag="2" style="display: none;"><li class="tocify-item" data-unique="Example"><a>Example</a></li><li class="tocify-item" data-unique="Options"><a>Options</a></li><li class="tocify-item" data-unique="AdvancedOptions"><a>Advanced Options</a></li><li class="tocify-item" data-unique="Eventcallbacks"><a>Event callbacks</a></li><li class="tocify-item" data-unique="HapyakViewer"><a>HapyakViewer</a></li><li class="tocify-item" data-unique="CustomCDNsupport"><a>Custom CDN support</a></li></ul></ul><ul id="tocify-header3" class="tocify-header nav nav-pills nav-stacked"><li class="tocify-item" data-unique="EditorAPI"><a>Editor API</a></li><ul class="tocify-subheader nav nav-pills nav-stacked" data-tag="2" style="display: none;"><li class="tocify-item" data-unique="Example10"><a>Example</a></li><li class="tocify-item" data-unique="Options11"><a>Options</a></li><li class="tocify-item" data-unique="AdvancedOptions12"><a>Advanced Options</a></li><li class="tocify-item" data-unique="Eventcallbacks13"><a>Event callbacks</a></li><li class="tocify-item" data-unique="HapyakEditor"><a>HapyakEditor</a></li></ul></ul><ul id="tocify-header4" class="tocify-header nav nav-pills nav-stacked"><li class="tocify-item" data-unique="Templates"><a>Templates</a></li></ul><ul id="tocify-header5" class="tocify-header nav nav-pills nav-stacked"><li class="tocify-item" data-unique="FAQ"><a>FAQ</a></li></ul><ul id="tocify-header6" class="tocify-header nav nav-pills nav-stacked"><li class="tocify-item" data-unique="Examples" style="cursor: pointer;"><a>Examples</a></li></ul></div>
      </div>
      <div class="col-md-8">
          <div name="HapYakJavascriptEmbedAPI" data-unique="HapYakJavascriptEmbedAPI"></div><h1>HapYak Javascript Embed API</h1>
<p>Include the following javascript reference in your project. If embedding
into an HTTP page, not HTTPS, use</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//d2qrdklrsxowl2.cloudfront.net/js/hapyak.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>


<div name="GlobalOptions" data-unique="GlobalOptions"></div><h1>Global Options</h1>
<p><strong>apiKey</strong></p>
<p>If you have a HapYak API key, pass it in to each API call with this parameter. HapYak typically issues
a read API key, and a write API key. The read key should be passed to .viewer, and the write key to .editor.</p>
<div name="ViewerAPI" data-unique="ViewerAPI"></div><h1>Viewer API</h1>
<p>The HapYak annotation viewer supports viewing annotations for an existing video
element on a page. The existing video javascript object, iframe, html element, etc
is passed into the viewer API method call.</p>
<div name="Example" data-unique="Example"></div><h2>Example</h2>
<div class="highlight"><pre><span class="nx">ytPlayer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">YT</span><span class="p">.</span><span class="nx">Player</span><span class="p">(</span><span class="s1">'video'</span><span class="p">,</span> <span class="p">{</span>
<span class="nx">height</span><span class="o">:</span> <span class="s1">'390'</span><span class="p">,</span>
<span class="nx">width</span><span class="o">:</span> <span class="s1">'640'</span><span class="p">,</span>
<span class="nx">videoId</span><span class="o">:</span> <span class="s1">'u1zgFlCw8Aw'</span><span class="p">,</span>
<span class="nx">playerVars</span><span class="o">:</span> <span class="p">{</span>
  <span class="nx">html</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">wmode</span><span class="o">:</span> <span class="s1">'opaque'</span>
<span class="p">}</span>
<span class="p">});</span>

<span class="nx">hapyak</span><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="nx">apiKey</span><span class="o">:</span> <span class="nx">readKey</span><span class="p">,</span>
  <span class="nx">player</span><span class="o">:</span> <span class="nx">ytPlayer</span><span class="p">,</span>
  <span class="nx">playerType</span><span class="o">:</span> <span class="s2">"youtube"</span><span class="p">,</span>
  <span class="nx">css</span><span class="o">:</span> <span class="s2">"http://modernizr.com/i/css/modernizr-2.1.1.css?v=1"</span><span class="p">,</span>
  <span class="nx">width</span><span class="o">:</span> <span class="mi">640</span><span class="p">,</span>
  <span class="nx">height</span><span class="o">:</span> <span class="mi">360</span><span class="p">,</span>
  <span class="nx">trackId</span><span class="o">:</span> <span class="mi">640</span><span class="p">,</span>
  <span class="nx">autoplay</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>
</pre></div>


<div name="Options" data-unique="Options"></div><h2>Options</h2>
<p><strong>player</strong></p>
<p>Reference to the player DOM node, Javascript object, Flash file.</p>
<p><strong>playerType</strong></p>
<p>Tells HapYak what sort of <em>player</em> was passed in. Valid values are "videojs", "youtube", "vimeo", "html5", "jplayer", "wistia", "dailymotion", "brightcove"</p>
<p><strong>width (optional)</strong></p>
<p>Tells HapYak the width of the player object. Optional, but the viewer may not always be
able to figure out the right sizing.</p>
<p><strong>height (optional)</strong></p>
<p>Tells HapYak the height of the player object. Optional, but the viewer may not always be
able to figure out the right sizing.</p>
<p><strong>css (optional)</strong></p>
<p>The location of a CSS file to load.</p>
<p><strong>trackId</strong></p>
<p>The ID of the HapYak commentary track to load. A HapYak "track" is the container
for popup, drawing, audio, etc, commentary.</p>
<p><strong>autoplay (optional)</strong></p>
<p>If set to true, the video with commentary will start to play once the video is loaded, and the track
has been downloaded from www.hapyak.com.</p>
<p><strong>minWidth (optional)</strong></p>
<p>Minimum width of player in pixels to show annotations. If the player width is below this value, all annotatinos will be hidden.  Optional, defaults to 300px.</p>
<p><strong>minHeight (optional)</strong></p>
<p>Minimum height of player in pixels to show annotations. If the player height is below this value, all annotatinos will be hidden.  Optional, defaults to 200px.</p>
<p><strong>onLoad (optional)</strong></p>
<p>A function to be called when the viewer has loaded. Will be passed one argument, a <code>HapyakViewer</code> object (see below).</p>
<p><strong>onLoadAnnotations (optional)</strong></p>
<p>A function to be called when all annotations have been loaded.</p>
<p><strong>resetVariables (optional)</strong></p>
<p>If set to true, all track variables set by quizzes, clicks or iframe scripts will be cleared before loading.</p>
<div name="AdvancedOptions" data-unique="AdvancedOptions"></div><h2>Advanced Options</h2>
<p><strong>userId (optional)</strong></p>
<p>You can optionally pass in a userId for tracking purposes.</p>
<p><strong>username (optional)</strong></p>
<p>You can optionally pass in a username for tracking purposes.</p>
<p><strong>groupId (optional, requires api key)</strong></p>
<p>When using an api key, you can optionally pass in a groupId. The groupId should
represent some subgroup of your end users.</p>
<p><strong>variables</strong></p>
<p>Dictionary of variables to be made available to dynamic annotations.</p>
<div class="highlight"><pre><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="nx">variables</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">courseName</span><span class="o">:</span> <span class="s2">"Math 101"</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p><strong>environment (optional, for debugging)</strong></p>
<p>Valid values are "production", "staging" or "feature". Only used when attempting to test against a specific environment.</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="nx">environment</span><span class="o">:</span> <span class="s1">'production'</span>
<span class="p">});</span>
</pre></div>


<div name="Eventcallbacks" data-unique="Eventcallbacks"></div><h2>Event callbacks</h2>
<p>The viewer API triggers a number of event callbacks related to both video and data. An event callback may be registered by passing the event name to <code>addEventListener</code> (see below) or including the event callback as an option, with the name of the event preceeded by <code>on</code> as the key.</p>
<p>For example, the <code>play</code> event, which fires whenever the video starts playing may be registered as an option:</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="cm">/* ...other options here... */</span>
  <span class="nx">onplay</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'video started playing'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>Another way to accomplish the same thing:</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="cm">/* ...other options here... */</span>
  <span class="nx">onload</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">viewer</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">viewer</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'play'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'video started playing'</span><span class="p">);</span>
      <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>The advantages of using <code>addEventListener</code> are that multiple callback functions can be registered and that a listener can be removed with the <code>removeEventListener</code> method.</p>
<p>The following events are available:</p>
<p><strong>load</strong></p>
<p>The <code>load</code> event fires when the viewer has loaded. The callback function receives one argument, which is the <code>HapyakViewer</code> object. (This event cannot be registered on with <code>addEventListener</code>.)</p>
<p><strong>loadannotations</strong></p>
<p>This event fires when all annotations have been loaded</p>
<p><strong>durationchange</strong></p>
<p>This event fires when the duration of the video is available to the API.</p>
<p><strong>loadedmetadata</strong></p>
<p>This event fires when the dimensions (height and width) and duration of the video are available to the API.</p>
<p><strong>pause</strong></p>
<p>This event fires when the video pauses.</p>
<p><strong>play</strong></p>
<p>This event fires when the video plays.</p>
<p><strong>data</strong></p>
<p>This event fires every time a data variable is changed. The callback function receives two arguments: an object hash of all data variables, and an object hash of all data variables that have changed since the last time the event fired.</p>
<p><strong>authchange</strong></p>
<p>This event fires every time user authorization data is changed. The callback function receives one argument: an object hash of all user auth properties.</p>
<p><strong>customtrackingevent</strong></p>
<p>This event fires every time an event that is tracked by analytics occurs. This includes video actions, such as pause, play, and seek, as well as annotation views and annotation actions. The callback function receives one argument: an object hash describing the event and all its properties.</p>
<div name="HapyakViewer" data-unique="HapyakViewer"></div><h2>HapyakViewer</h2>
<p>A HapyakViewer object will be passed to the <code>onLoad</code> callback and supports the following methods and properties.</p>
<h4>Methods</h4>
<p><strong>getTrackId()</strong></p>
<p>Returns the id (an integer) of the currently loaded track.</p>
<p><strong>resize(width, height)</strong></p>
<p>Resizes the player to the desired <code>height</code> and <code>width</code>.</p>
<p><strong>play()</strong></p>
<p>Plays the video.</p>
<p><strong>pause()</strong></p>
<p>Pauses the video.</p>
<p><strong>resetVariables()</strong></p>
<p>Reset all track variables set by quizzes, clicks or iframe scripts.</p>
<p><strong>getData(name)</strong></p>
<p>Returns the value of the variable by <code>name</code>. If the method is called without any argument, it returns an object hash of all variable values.</p>
<p><strong>setData(name, value)</strong></p>
<p>Sets the value of the variable by <code>name</code>. If the second argument is omitted, the key value is cleared.</p>
<p>If the first argument is <code>null</code> or if there is one parameter that is an object, that object is used as a hash of multiple variable values to be set.</p>
<p><strong>destroy()</strong></p>
<p>Tells the editor to shutdown and cleanup.</p>
<h4>Properties</h4>
<p><strong>duration</strong></p>
<p>The duration in seconds of the video. This value will be <code>NaN</code> until the <code>onlaodedmetadata</code> event has fired. This property is read-only.</p>
<p><strong>currentTime</strong></p>
<p>The current time in the video of the play head, in seconds. This property can be set to cause the video to seek. If <code>currentTime</code> is set to a negative number or is greater than the <code>duration</code>, seeking will not happen.</p>
<p><strong>paused</strong></p>
<p>A boolean value indicating the play/pause state of the video. A video may not be playing even though <code>paused</code> is false if the video is stalled while loading from the network. This property is read-only.</p>
<div name="CustomCDNsupport" data-unique="CustomCDNsupport"></div><h2>Custom CDN support</h2>
<p>HapYak supports an optional configuration directive to turn on a custom CDN prefix for serving assets, or api
responses.</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="nx">plugins</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">cdn</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">api</span><span class="o">:</span> <span class="p">{</span>
              <span class="nx">prefix</span><span class="o">:</span> <span class="p">[</span><span class="nx">urlprefix</span><span class="p">]</span>
          <span class="p">}</span>
          <span class="nx">assets</span><span class="o">:</span> <span class="p">{</span>
              <span class="nx">prefix</span><span class="o">:</span> <span class="p">[</span><span class="nx">urlprefix</span><span class="p">]</span>
          <span class="p">}</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>Reference <a href="https://docs.google.com/document/d/1WVxaxQd1LzYpR-ew-Gd8qMIzJqAXD1vXEgzsGLRUffI/edit?usp=sharing">this document</a>
for complete details.</p>
<div name="EditorAPI" data-unique="EditorAPI"></div><h1>Editor API</h1>
<p>The HapYak annotation editor will drop an IFRAME based embedded editor into
the page, under the element passed in with elementId.</p>
<div name="Example10" data-unique="Example10"></div><h2>Example</h2>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">editor</span> <span class="o">=</span> <span class="nx">hapyak</span><span class="p">.</span><span class="nx">editor</span><span class="p">({</span>
  <span class="nx">apiKey</span><span class="o">:</span> <span class="nx">writeKey</span><span class="p">,</span>
  <span class="nx">elementId</span><span class="o">:</span> <span class="s1">'hapyak-editor-test'</span><span class="p">,</span>
  <span class="nx">width</span><span class="o">:</span> <span class="mi">560</span><span class="p">,</span>
  <span class="nx">css</span><span class="o">:</span> <span class="s1">'http://modernizr.com/i/css/modernizr-2.1.1.css?v=1'</span><span class="p">,</span>
  <span class="nx">videoType</span><span class="o">:</span> <span class="s1">'html5'</span><span class="p">,</span>
  <span class="nx">videoUrl</span><span class="o">:</span> <span class="s1">'http://cloudfront.net/videos/video.mp4'</span><span class="p">,</span>
  <span class="nx">onNewTrack</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">trackId</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'hapyak.editor.onNewTrack reported to parent page ['</span> <span class="o">+</span> <span class="nx">trackId</span> <span class="o">+</span> <span class="s1">']'</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">onSave</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">trackId</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'hapyak.editor.onSave reported to parent page ['</span> <span class="o">+</span> <span class="nx">trackId</span> <span class="o">+</span> <span class="s1">']'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">editor</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'saved'</span><span class="p">);</span>
<span class="p">})</span>
</pre></div>


<div name="Options11" data-unique="Options11"></div><h2>Options</h2>
<p><strong>elementId</strong></p>
<p>The ID of the element to drop the HapYak editor iframe into.</p>
<p><strong>element</strong></p>
<p>The DOM element to drop the HapYak editor iframe into. This can be used instead
of passing <em>elementId</em>.</p>
<p><strong>width (optional)</strong></p>
<p>The width of the IFRAME editor element to create.</p>
<p><strong>css (optional)</strong></p>
<p>The location of a CSS file to load.</p>
<p><strong>videoType</strong></p>
<p>The type of video to load. Valid values can be "youtube", "vimeo", "html5", "jplayer", "wistia", "dailymotion"</p>
<p><strong>videoId</strong></p>
<p>The ID of the video to load. If <em>videoType</em> is set to "youtube" for example,
this parameter would be the YouTube video id.</p>
<p><strong>videoUrl</strong></p>
<p>The URL of the video to load. If <em>videoType</em> is set to "html5", this would be
the URL to the video.</p>
<p><strong>videoWidth (optional)</strong></p>
<p>The actual width of the video passed in. Used to compute aspect ratio.</p>
<p><strong>videoHeight (optional)</strong></p>
<p>The actual height of the video passed in. Used to compute aspect ratio.</p>
<p><strong>videoParameters</strong></p>
<p>Additional parameters passed through to the specific player based on videoType.</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">editor</span><span class="p">({</span>
  <span class="nx">videoType</span><span class="o">:</span> <span class="s1">'brightcove'</span><span class="p">,</span>
  <span class="nx">videoId</span><span class="o">:</span> <span class="s1">'bctitleid'</span>
  <span class="nx">videoParameters</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">bcpid</span><span class="o">:</span> <span class="s1">'bcpid'</span><span class="p">,</span>
      <span class="nx">bckey</span><span class="o">:</span> <span class="s1">'bckey'</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p><strong>trackId (optional)</strong></p>
<p>The ID of the HapYak commentary track to edit. A HapYak "track" is the container
for popup, drawing, audio, etc, commentary. If you do not pass in a track id, a new
track will be created, and the onNewTrack callback is fired. Developers can then
save that track id to be passed in in the future.</p>
<p><strong>onSave (optional)</strong></p>
<p>When a save successfully finishes, this callback is called.</p>
<p><strong>onNewTrack (optional)</strong></p>
<p>If a new track is created by the editor, this callback will be passed the new trackId.
This allows you to store this trackId and use it with <em>.viewer</em> API calls.</p>
<p><strong>resetVariables (optional)</strong></p>
<p><strong>getData(name)</strong></p>
<p>Returns the value of the variable by <code>name</code>. If the method is called without any argument, it returns an object hash of all variable values.</p>
<p><strong>setData(name, value)</strong></p>
<p>Sets the value of the variable by <code>name</code>. If the second argument is omitted, the key value is cleared.</p>
<p>If the first argument is <code>null</code> or if there is one parameter that is an object, that object is used as a hash of multiple variable values to be set.</p>
<p>If set to true, all track variables set by quizzes, clicks or iframe scripts will be cleared before loading.</p>
<p>Note that on <code>HapyakEditor</code>, this method is asynchronous, so values that are set will not be  reflected by <code>getData</code> until the <code>data</code> event is triggered.</p>
<div name="AdvancedOptions12" data-unique="AdvancedOptions12"></div><h2>Advanced Options</h2>
<p><strong>userId (optional, requires api key)</strong></p>
<p>When using an api key, you can optionally pass in a userId. The userId should be some
string identifier for the user currently editing the video.</p>
<p><strong>groupId (optional, requires api key)</strong></p>
<p>When using an api key, you can optionally pass in a groupId. The groupId should
represent some subgroup of your end users.</p>
<p><strong>minWidth (optional)</strong></p>
<p>Minimum width of player in pixels to show annotations. If the player width is below this value, all annotatinos will be hidden.  Optional, defaults to 300px.</p>
<p><strong>minHeight (optional)</strong></p>
<p>Minimum height of player in pixels to show annotations. If the player height is below this value, all annotatinos will be hidden.  Optional, defaults to 200px.</p>
<p><strong>onTrackingEvent (optional)</strong></p>
<p>Used to intercept playback statistics. Can be used, for example, to track playback statistics in MixPanel.</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="nx">onTrackingEvent</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'HapYak / '</span> <span class="o">+</span> <span class="nx">data</span><span class="p">.</span><span class="nx">event</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">properties</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>There is a built in MixPanel tracking event function that will push the tracking events into your MixPanel instance.</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="nx">onTrackingEvent</span><span class="o">:</span> <span class="nx">hapyak</span><span class="p">.</span><span class="nx">mixpanelTrackingEventListener</span><span class="p">({</span><span class="nx">mixpanel</span><span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">mixpanel</span><span class="p">})</span>
<span class="p">});</span>
</pre></div>


<p><strong>environment (optional, for debugging)</strong></p>
<p>Valid values are "production", "staging" or "feature". Only used when attempting to test against a specific environment.</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">editor</span><span class="p">({</span>
  <span class="nx">environment</span><span class="o">:</span> <span class="s1">'production'</span>
<span class="p">});</span>
</pre></div>


<div name="Eventcallbacks13" data-unique="Eventcallbacks13"></div><h2>Event callbacks</h2>
<p>The editor API triggers a number of event callbacks related to both video and data. An event callback may be registered by passing the event name to <code>addEventListener</code> (see below) or including the event callback as an option, with the name of the event preceeded by <code>on</code> as the key.</p>
<p>For example, the <code>play</code> event, which fires whenever the video starts playing may be registered as an option:</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">editor</span><span class="p">({</span>
  <span class="cm">/* ...other options here... */</span>
  <span class="nx">onplay</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'video started playing'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>Another way to accomplish the same thing:</p>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">editor</span> <span class="o">=</span> <span class="nx">hapyak</span><span class="p">.</span><span class="nx">editor</span><span class="p">({</span>
  <span class="cm">/* ...other options here... */</span>
<span class="p">});</span>

<span class="nx">editor</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'play'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'video started playing'</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>


<p>The advantages of using <code>addEventListener</code> are that multiple callback functions can be registered and that a listener can be removed with the <code>removeEventListener</code> method.</p>
<p>The following events are available:</p>
<p><strong>load</strong></p>
<p>The <code>load</code> event fires when the editor has loaded. The callback function receives one argument, which is the IFRAME element.</p>
<p><strong>loadannotations</strong></p>
<p>This event fires when all annotations have been loaded</p>
<p><strong>durationchange</strong></p>
<p>This event fires when the duration of the video is available to the API.</p>
<p><strong>loadedmetadata</strong></p>
<p>This event fires when the dimensions (height and width) and duration of the video are available to the API.</p>
<p><strong>pause</strong></p>
<p>This event fires when the video pauses.</p>
<p><strong>play</strong></p>
<p>This event fires when the video plays.</p>
<p><strong>data</strong></p>
<p>This event fires every time a data variable is changed. The callback function receives two arguments: an object hash of all data variables, and an object hash of all data variables that have changed since the last time the event fired.</p>
<div name="HapyakEditor" data-unique="HapyakEditor"></div><h2>HapyakEditor</h2>
<p>hapyak.editor({}) will return a new editor object.</p>
<h4>Methods</h4>
<p><strong>element()</strong></p>
<p>Returns HapYak DOM element (e.g. IFRAME)</p>
<p><strong>save(callback)</strong></p>
<p>Tells the editor to commit the changes the user has made. Takes an optional callback
argument which will be passed the trackId that was saved.</p>
<p><strong>newTrack(callback)</strong> (premium feature)</p>
<p>Creates a new track for the current video. Takes an optional callback
argument which will be passed the trackId that was saved.</p>
<p><strong>copyTrack(callback)</strong> (premium feature)</p>
<p>Copies the current track. Takes an optional callback
argument which will be passed the trackId that was saved.</p>
<p><strong>editTrack(data, callback)</strong> (premium feature)</p>
<p>Can be used to change the title or description of the current track. The <code>data</code> argument
is an object with properties <code>title</code> and <code>description</code>. Also takes an optional callback
argument which will be passed the trackId of the track that was modified.</p>
<p><strong>resize(width, height)</strong></p>
<p>Resizes the player to the desired <code>height</code> and <code>width</code>.</p>
<p><strong>play()</strong></p>
<p>Plays the video.</p>
<p><strong>pause()</strong></p>
<p>Pauses the video.</p>
<p><strong>resetVariables()</strong></p>
<p>Reset all track variables set by quizzes, clicks or iframe scripts.</p>
<p><strong>destroy()</strong></p>
<p>Tells the editor to shutdown and cleanup.</p>
<h4>Properties</h4>
<p><strong>duration</strong></p>
<p>The duration in seconds of the video. This value will be <code>NaN</code> until the <code>onlaodedmetadata</code> event has fired. This property is read-only.</p>
<p><strong>currentTime</strong></p>
<p>The current time in the video of the play head, in seconds. This property can be set to cause the video to seek. If <code>currentTime</code> is set to a negative number or is greater than the <code>duration</code>, seeking will not happen.</p>
<p><strong>paused</strong></p>
<p>A boolean value indicating the play/pause state of the video. A video may not be playing even though <code>paused</code> is false if the video is stalled while loading from the network. This property is read-only.</p>
<h4>Definitions</h4>
<p><strong>video</strong></p>
<p>A reference to the video to be annotated. It might reference a YouTube video, an html5 video,
or a video behind a partners firewall. Tracks are attached to the video object. Any one video
may have any number of tracks attached.</p>
<p><strong>track</strong></p>
<p>A HapYak track is the container that holds a set of video annotations. A track also
may contain metadata about the annotation content such as language data,
security restrictions, and basic statistics about the annotations.</p>
<p><strong>annotation</strong></p>
<p>An annotation is a single drawing, popup comment, image, etc, added to a video track.
It has the annotation data, as well as video time synchronization information.</p>
<div name="Templates" data-unique="Templates"></div><h1>Templates</h1>
<p>HapYak supports the concept of template tracks. A template track can be applied to any video, whether it already has a project/track associated or not. To apply a template track to your video, pass in a "project" search parameter.</p>
<div class="highlight"><pre><span class="nx">hapyak</span><span class="p">.</span><span class="nx">viewer</span><span class="p">({</span>
  <span class="nx">project</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">template</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">tags</span><span class="o">:</span> <span class="p">[</span><span class="nx">arrayOfTags</span><span class="p">]</span>
          <span class="c1">// OR</span>
          <span class="nx">id</span><span class="o">:</span> <span class="nx">templateProjectId</span><span class="p">,</span>
          <span class="c1">// OR</span>
          <span class="nx">ids</span><span class="o">:</span> <span class="p">[</span><span class="nx">arrayOfProjectIds</span><span class="p">]</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>If there were existing annotations for the video, they will be combined with the annotations from the template. If there are no existing annotations, only the template track annotations will be shown.</p>
<div name="FAQ" data-unique="FAQ"></div><h1>FAQ</h1>
<p><strong>Do you host and serve videos?</strong></p>
<p>No, we integrate with your existing solutions or partner to provide a complete solution as needed.</p>
<p><strong>Will this work behind a ﬁrewall?</strong></p>
<p>As long as the ﬁrewall can allow access to our HTTPS cloud service, yes.</p>
<p><strong>How can I customize the look and feel of the player and annotations?</strong></p>
<p>All styles can be controlled via CSS giving you absolute power over styling.</p>
<p><strong>Does this work on mobile?</strong></p>
<p>Annotations will work in any browser that allows HTML to be overlaid on video.  Android and iOS devices are generally able to view annotations using our solution.</p>
<div name="Examples" data-unique="Examples"></div><h1>Examples</h1>
<p>For Embedded viewer and editor examples, contact <a href="mailto:success@hapyak.com">success@hapyak.com</a>.</p>
      </div>
  </div>
</div>

<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<script src="/assets/js/jquery-ui-1.9.1.custom.min.js"></script>
<script src="/assets/js/jquery.tocify.min.js"></script>

<script>
  $(function () {
      //Calls the tocify method on your HTML div.
      $("#toc").tocify();
  });
</script>


<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 1745px;"></div></body></html>